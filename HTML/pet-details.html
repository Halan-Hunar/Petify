<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petify.com - Pet Details</title>
    <link rel="shortcut icon" href="/images/logo2-removebg.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/general.css">
    <link rel="stylesheet" href="/styles/home.css">
    <link rel="stylesheet" href="/styles/adopt-style.css">
    <link rel="stylesheet" href="/styles/pet-details.css">
</head>
<body>
    <header class="petify-header">
        <!-- Desktop Menu -->
        <nav class="desktop-menu">
            <div class="link-container">
                <a href="index.html">Home</a>
            </div>
            <div class="link-container">
                <a href="Adopt.html">Pets</a>
            </div>
            <div class="link-container">
                <a href="#about">About</a>
            </div>
            <div class="link-container">
                <a href="#contact">Contact</a>
            </div>
            <div class="link-container">
                <a href="#search-panel">Search</a>
            </div>
            <div class="link-container">
                <a href="/HTML/Shop.html">Cart</a>
            </div>
        </nav>
    </header>

    <main>
        <section class="pet-details-section">
            <div class="container">
                <div class="pet-details-header">
                    <h2 class="section-title" id="pet-name">Pet Name</h2>
                </div>
                <div class="pet-details-content">
                    <div class="pet-image">
                        <img src="" alt="Pet Image" id="pet-image">
                    </div>
                    <div class="pet-info">
                        <h3>Pet Details</h3>
                        <p><strong>Age:</strong> <span id="pet-age"></span></p>
                        <p><strong>Breed:</strong> <span id="pet-breed"></span></p>
                        <p><strong>Color:</strong> <span id="pet-color"></span></p>
                        <p><strong>Size:</strong> <span id="pet-size"></span></p>
                        <p><strong>About:</strong> <span id="pet-about">This pet is looking for a loving home.</span></p>
                        <button class="adopt-button">Adopt <span id="pet-name-btn">Pet</span></button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Petify. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const name = params.get('name');
            const age = params.get('age');
            const breed = params.get('breed');
            const color = params.get('color');
            const size = params.get('size');
            const image = params.get('image');

            if (name && age && breed && color && size && image) {
                document.getElementById('pet-name').textContent = name;
                document.getElementById('pet-age').textContent = age;
                document.getElementById('pet-breed').textContent = breed;
                document.getElementById('pet-color').textContent = color;
                document.getElementById('pet-size').textContent = size;
                document.getElementById('pet-image').src = image;
                document.getElementById('pet-name-btn').textContent = name;

                // Set up adopt button click event
                document.querySelector('.adopt-button').addEventListener('click', () => {
                    const pet = {
                        name,
                        age,
                        breed,
                        color,
                        size,
                        image
                    };

                    // Retrieve the current pets from localStorage
                    const pets = JSON.parse(localStorage.getItem('pets')) || [];

                    // Add the new pet to the list
                    pets.push(pet);

                    // Store the updated pets list in localStorage
                    localStorage.setItem('pets', JSON.stringify(pets));

                    // Redirect to shop.html
                    window.location.href = '/HTML/Shop.html';
                });
            }
        });
    </script>
</body>
</html>
